
// Global params
params {

	// Custom Genome - if not Human/Mouse standard ref
	custom_genome = "xcustomgenomex"

	// references

	// Transcriptomes
	human="/projects/fs1/shared/references/cellranger/hg38/refdata-gex-GRCh38-2020-A"
	mouse="/projects/fs1/shared/references/cellranger/mm10/refdata-gex-mm10-2020-A"
	mixed_genome="/projects/fs1/shared/references/cellranger/hg38_mm10/refdata-gex-GRCh38-and-mm10-2020-A" 

	// Probe sets
	human_probe="/projects/fs1/shared/references/cellranger/fixrna/Chromium_Human_Transcriptome_Probe_Set_v1.0_GRCh38-2020-A.csv"
	mouse_probe="/projects/fs1/shared/references/cellranger/fixrna/Chromium_Mouse_Transcriptome_Probe_Set_v1.0_mm10-2020-A.csv"

	// TotalSeq A and C references
	totalseqA="/projects/fs1/shared/references/cellranger_totalseq/hto/TotalSeq_A_HTO.csv"
	totalseqC="/projects/fs1/shared/references/cellranger_totalseq/adt/TotalSeq_C_Human_Universal_Cocktail_399905_Antibody_reference_UMI_counting.csv"


	// Directories:
	outdir = "/projects/fs1/shared/Jobs"
	ctgqc = "/projects/fs1/shared/ctg-qc/sc-rna-10x"

	// runOptions
	feature_reference = "NO_FILE"

	analysis = "scrna-10x"
}

// Configuration file for sc-rna-10x pipeline 
profiles {
	standard {
		// Define SLURM specs
		process {
			executor='slurm'
			time='5h'
			cpus='8'

			withName:DELIVERY_INFO {
				time='1h'
				cpus='1'
				memory='1 GB'
			}
			withName:SUMMARIZE_COUNT {
				container = '/projects/fs1/shared/ctg-containers/sc-rna-10x/cellranger.v6.1.2/cellranger_v6.1.2.sif'
				time='1h'
				cpus='1'
				memory='11 GB'
			}
			withName:FASTQC {
				container = '/projects/fs1/shared/ctg-containers/sc-rna-10x/cellranger.v6.1.2/cellranger_v6.1.2.sif'
				time='24h'
				cpus='8'
				memory='50 GB'
			}
			withName:MULTIQC {
				container = '/projects/fs1/shared/ctg-containers/multiqc/latest/multiqc.simg'
				time='2h'
				cpus='8'
				memory='24 GB'
			}

			withName:COUNT {
				container = '/projects/fs1/shared/ctg-containers/cellranger/latest/cellranger.simg'
				time='2d'
				cpus='19'
				memory='120 GB'
			}
			withName:DELIVER_PROJ {
				executor="local"
				cpus='2'
				memory='10 GB'
			}
		}


		singularity {
				enabled = true
				runOptions = '--bind /projects/fs1/'
		}

		workDir = "/projects/fs1/shared/ctg-projects/singleCellWorkflows/"
	}

	local_dev {
		process {
			executor='local'
			cpus='8'
			memory='8 GB'
			time='2d'
		}
		singularity {
			enabled = false
		}
	}
}